<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}">
<head>
    <title>SUB - Relatórios com IA</title>
    <link rel="stylesheet" th:href="@{/css/relatorio-ia.css}">
</head>
<body>
<section layout:fragment="content" class="ai-report-page">
    <div class="container ai-report-container">
        <div class="ai-hero">
            <span class="ai-hero__badge">
                <i class="bi bi-robot"></i>
                Relatórios com IA
            </span>
            <h1 class="ai-hero__title">Relatórios Inteligentes (RAG)</h1>
            <p class="ai-hero__subtitle">
                Faça perguntas sobre seus dados em linguagem natural. A IA converte tudo para consultas seguras e
                retorna os resultados em segundos.
            </p>
            <div class="ai-hero__meta">
                <span class="ai-meta-chip"><i class="bi bi-shield-lock"></i>Modo seguro: apenas leitura</span>
                <span class="ai-meta-chip"><i class="bi bi-chat-dots"></i>Respostas rápidas para o time</span>
            </div>
        </div>

        <div class="ai-panel">
            <div class="ai-panel__header">
                <div>
                    <h2 class="ai-panel__title">Qual insight você precisa agora?</h2>
                    <p class="ai-panel__text">
                        Conecte-se aos dados sem complexidade técnica. Pergunte em português e deixe a IA gerar
                        o relatório para você.
                    </p>
                </div>
                <span class="ai-secure-chip">
                    <i class="bi bi-shield-check"></i>
                    Somente SELECT são permitidos
                </span>
            </div>

            <div class="ai-query-box">
                <div class="ai-input-row">
                    <div class="ai-input-shell">
                        <i class="bi bi-search ai-input-icon"></i>
                        <input
                            type="text"
                            id="aiPergunta"
                            class="ai-input"
                            placeholder="Ex.: Quais veículos estão ativos e qual a placa deles?"
                        >
                    </div>
                    <button id="aiBtn" type="button" class="ai-primary-btn">
                        <i class="bi bi-stars"></i>
                        <span>Gerar Relatório</span>
                    </button>
                </div>
                <p class="ai-helper-text">Aperte Enter para enviar rapidamente.</p>
            </div>

            <div class="ai-quick">
                <div class="ai-quick__title">
                    <i class="bi bi-lightning-charge-fill text-warning"></i>
                    <span>Sugestões rápidas</span>
                </div>
                <div class="ai-quick-grid">
                    <button type="button" class="ai-quick-card" data-ai-example="Quantos veículos ativos temos?">
                        <strong>Veículos Ativos</strong>
                        <span>Quantos veículos ativos temos?</span>
                    </button>
                    <button type="button" class="ai-quick-card" data-ai-example="Liste os 10 parceiros mais recentes">
                        <strong>Parceiros Recentes</strong>
                        <span>Liste os 10 parceiros mais recentes</span>
                    </button>
                    <button type="button" class="ai-quick-card" data-ai-example="Qual o total de mensalidades?">
                        <strong>Total de Mensalidades</strong>
                        <span>Qual o total de mensalidades?</span>
                    </button>
                    <button type="button" class="ai-quick-card" data-ai-example="Quantos eventos pendentes existem?">
                        <strong>Eventos Pendentes</strong>
                        <span>Quantos eventos pendentes existem?</span>
                    </button>
                    <button type="button" class="ai-quick-card" data-ai-example="Mostre os veículos por montadora">
                        <strong>Veículos por Montadora</strong>
                        <span>Mostre os veículos por montadora</span>
                    </button>
                    <button type="button" class="ai-quick-card" data-ai-example="Quantos processos jurídicos estão em aberto?">
                        <strong>Processos Jurídicos</strong>
                        <span>Quantos processos jurídicos estão em aberto?</span>
                    </button>
                </div>
            </div>

            <div id="aiResultados" class="ai-results"></div>
        </div>
    </div>
</section>

<th:block layout:fragment="scripts">
    <script th:src="@{/js/relatorio-ia.js}"></script>
</th:block>
</body>
</html>
