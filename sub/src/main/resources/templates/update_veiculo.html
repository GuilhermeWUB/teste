<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}">
<head>
    <title>SUB - Atualizar Veículo</title>
</head>
<body>

<section layout:fragment="content">
    <h1 class="mb-4">Atualizar Veículo</h1>
    <form th:action="@{/vehicles/update/{id}(id=${vehicle.id})}" th:object="${vehicle}" method="post" class="row g-3">
        <input type="hidden" th:field="*{id}" />
        <input type="hidden" th:field="*{payment.id}" />
        <div class="col-md-6">
            <label for="maker" class="form-label">Montadora</label>
            <input type="text" id="maker" class="form-control" th:field="*{maker}" />
            <div class="text-danger" th:if="${#fields.hasErrors('maker')}" th:errors="*{maker}"></div>
        </div>
        <div class="col-md-6">
            <label for="model" class="form-label">Modelo</label>
            <input type="text" id="model" class="form-control" th:field="*{model}" />
            <div class="text-danger" th:if="${#fields.hasErrors('model')}" th:errors="*{model}"></div>
        </div>
        <div class="col-md-4">
            <label for="plaque" class="form-label">Placa</label>
            <input type="text" id="plaque" class="form-control" th:field="*{plaque}" />
            <div class="text-danger" th:if="${#fields.hasErrors('plaque')}" th:errors="*{plaque}"></div>
        </div>
        <div class="col-md-4">
            <label for="color" class="form-label">Cor</label>
            <input type="text" id="color" class="form-control" th:field="*{color}" />
            <div class="text-danger" th:if="${#fields.hasErrors('color')}" th:errors="*{color}"></div>
        </div>
        <div class="col-md-4">
            <label for="year_mod" class="form-label">Ano/Modelo</label>
            <input type="text" id="year_mod" class="form-control" th:field="*{year_mod}" />
            <div class="text-danger" th:if="${#fields.hasErrors('year_mod')}" th:errors="*{year_mod}"></div>
        </div>
        <div class="col-md-6">
            <label for="tipo_combustivel" class="form-label">Tipo de combustível</label>
            <input type="text" id="tipo_combustivel" class="form-control" th:field="*{tipo_combustivel}" />
            <div class="text-danger" th:if="${#fields.hasErrors('tipo_combustivel')}" th:errors="*{tipo_combustivel}"></div>
        </div>
        <div class="col-md-6">
            <label for="partner" class="form-label">Associado</label>
            <select id="partner" class="form-select" th:field="*{partnerId}">
                <option value="" disabled>Selecione</option>
                <option th:each="partner : ${partners}" th:value="${partner.id}" th:text="${partner.name}"></option>
            </select>
            <div class="text-danger" th:if="${#fields.hasErrors('partnerId')}" th:errors="*{partnerId}"></div>
        </div>
        <div class="col-md-6">
            <label for="monthly" class="form-label">Mensalidade</label>
            <input type="number" step="0.01" id="monthly" class="form-control" th:field="*{payment.monthly}" />
            <div class="text-danger" th:if="${#fields.hasErrors('payment.monthly')}" th:errors="*{payment.monthly}"></div>
        </div>
        <div class="col-md-6">
            <label for="vencimento" class="form-label">Dia do vencimento</label>
            <input type="number" min="1" max="31" id="vencimento" class="form-control" th:field="*{payment.vencimento}" />
            <div class="text-danger" th:if="${#fields.hasErrors('payment.vencimento')}" th:errors="*{payment.vencimento}"></div>
        </div>
        <div class="col-12 d-flex gap-2">
            <button type="submit" class="btn btn-primary">Salvar alterações</button>
            <a th:href="${partnerId != null} ? @{/vehicles(partnerId=${partnerId})} : @{/vehicles}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</section>

</body>
</html>
